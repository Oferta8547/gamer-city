<!DOCTYPE html>
<html lang="pt-br">
<head>


  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>Gire a Roleta!</title>
  <link rel="icon" href="images/favicon.html">
  <link rel="shortcut icon" href="images/favicon.html">
  <link rel="stylesheet" href="css/all.css" crossorigin="anonymous">
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/stylead8e.css">
  <style>
    /* Background personalizado */
    body {
      background-image: url('images/ascfghj.webp') !important;
      background-size: cover !important;
      background-position: center !important;
      background-repeat: no-repeat !important;
      background-attachment: fixed !important;
      background-color: #000000 !important;
      margin: 0;
      padding: 0;
      padding-top: 30px !important;
    }
    
    section, #page-content {
      background: transparent !important;
    }
    
    /* Cores TikTok */
    .cta, .cta h1, #cta-text {
      color: #000000 !important;
      text-align: center !important;
    }
    
    .cta {
      width: 100% !important;
      display: flex !important;
      flex-direction: column !important;
      align-items: center !important;
      justify-content: center !important;
      margin-bottom: 5px !important;
    }
    
    .cta h1 {
      margin-bottom: 5px !important;
      margin-top: 0px !important;
    }
    
    .cta p {
      margin-bottom: 5px !important;
      line-height: 1.4 !important;
      color: #000000 !important;
    }
    
    section {
      padding: 5px 0 !important;
      margin-top: -110px !important;
    }
    
    .roulette {
      margin-top: 10px !important;
      margin-bottom: 5px !important;
    }
    
    .button-roulette {
      margin-top: 15px !important;
      margin-bottom: 5px !important;
    }
    
    /* Remover todas as animações de pulsação */
    .pulsating {
      animation: none !important;
      transform: none !important;
    }
    
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1); }
      100% { transform: scale(1); }
    }
    
    /* Botões com cores sólidas TikTok - #ff2d55 */
    #button-cta, .runSpin {
      background: #ff2d55 !important;
      color: #ffffff !important;
      border: none !important;
      font-weight: bold !important;
      padding: 15px 30px !important;
      border-radius: 10px !important;
      cursor: pointer !important;
      transition: none !important;
      animation: none !important;
      box-shadow: none !important;
      text-transform: uppercase !important;
      line-height: 1.2 !important;
      display: inline-flex !important;
      align-items: center !important;
      justify-content: center !important;
    }
    
    #button-cta:hover, .runSpin:hover {
      background: #f02d53 !important;
      color: #ffffff !important;
      border: none !important;
      box-shadow: none !important;
    }
    
    /* Botões dos popups */
    #try-again-button, #resgatar-premio {
      background: #ff2d55 !important;
      color: #ffffff !important;
      border: none !important;
      font-weight: bold !important;
      padding: 15px 30px !important;
      border-radius: 10px !important;
      cursor: pointer !important;
      animation: none !important;
      box-shadow: none !important;
      text-transform: uppercase !important;
      line-height: 1.2 !important;
      display: inline-flex !important;
      align-items: center !important;
      justify-content: center !important;
    }
    
    #try-again-button:hover, #resgatar-premio:hover {
      background: #f02d53 !important;
      color: #ffffff !important;
      border: none !important;
      box-shadow: none !important;
    }
    
    /* Popup styles */
    .popup-content {
      background: #ffffff !important;
      border: none !important;
      color: #000000 !important;
    }
    
    .popup-content img {
      max-width: 80px !important;
      height: auto !important;
      display: block !important;
      margin: 10px auto !important;
    }
    
    .popup-content h2 {
      color: #ff2d55 !important;
    }
    
    .popup-content p {
      color: #000000 !important;
    }
    
    .popup-content b {
      color: #00c853 !important;
      animation: none !important;
      transform: none !important;
    }
    
    /* Notificação de pessoas */
    #people, .people {
      background: #000000 !important;
      border: none !important;
      color: #ffffff !important;
    }
    
    #people p, #people-p {
      color: #ffffff !important;
    }
    
    #people b {
      color: #ff2d55 !important;
    }
  </style>
  <script src="js/jquery-3.0.0.slim.min.js"></script>
  <script src="js/jquery.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/confetti.browser.min.js"></script>
</head>
<body>
  <div id="loading-screen" style="display: none;">
      <div class="spinner-loading"></div>
  </div>

  <div id="page-content">
    <section>
      <div class="cta" style="text-align: center;">
        <h1 id="cta-text" style="font-size: 36px; margin-bottom: 8px; font-weight: bold;">
          Gire e Ganhe
        </h1>
        <p style="font-size: 20px; margin-top: 0; margin-bottom: 30px; color: #ffffff;">
          Teste sua sorte e ganhe<br>até 97% de desconto
        </p>
      </div>
      <div class="roulette">
        <img src="responda.html" id="roleta1">
        <div id="roleta2">
          <img src="images/cvgty.webp" class="spinner">
        </div>
        <img src="images/qwetg.webp" id="roleta3" style="cursor: pointer;">
      </div>
      <div class="button-roulette">
        <button id="button-cta" class="runSpin">        
          GIRE PARA GANHAR
        </button>
      </div>
    </section>
  </div>

  <div id="people" class="people">
    <img src="images/man6.jpg" id="people-img" alt="">
    <p style="text-align: center" id="people-p">João acabou de ganhar <b>75% de desconto<span style="color: #ff2d55;">!</span></b></p>
  </div>

  <div id="overlay" class="overlay"></div>
  <div id="popup-try-again" class="popup">
    <div class="popup-content">
      <h2>Que pena!</h2>
      <img src="images/qwdp.webp">
     <p style="color: #000000; display: inline-block;">
  Você tem direito a um último giro.<br>Boa sorte!
</p>
      <button id="try-again-button">Tentar Novamente</button>
    </div>
  </div>
  <div id="popup" class="popup">
    <div class="popup-content">
      <h2>Parabéns!</h2>
      <img src="images/cvbh.webp">
      <p>Você acaba de ganhar<br><b class="text-success pulsating" style="color: #00c853!important;">97% de desconto!</b></p>
      <button id="resgatar-premio" href="responda.html">RESGATE SEU PS5</button>
    </div>
    <audio id="confetti-audio" src="media/katin.MP3"></audio>
    <audio id="roleta-audio" src="media/roleta.mp3"></audio>
  </div>

  <script>
    let attempt = 0;

    const animateSpin = () => {
      const roleta2 = document.querySelector('#roleta2');
      const roleta2Img = document.querySelector('#roleta2 img');
      const buttonCta = document.getElementById('button-cta');
      const confettiAudio = document.getElementById('confetti-audio');
      const roletaAudio = document.getElementById('roleta-audio');
      const ctaText = document.getElementById('cta-text');
      const chanceText = document.getElementById('chance');

      if (roleta2) {
        roleta2Img.classList.remove('spinner');
        buttonCta.style.display = 'none';

        // Tocar o som da roleta no início
        roletaAudio.currentTime = 0;
        roletaAudio.play();

        if (attempt === 0) {
          const animatedClass = 'wheel__spinner_animated_retry_then_win';
          roleta2.classList.add(animatedClass);

          setTimeout(() => {
            roletaAudio.pause();
            const overlay = document.getElementById('overlay');
            const tryAgainPopup = document.getElementById('popup-try-again');
            overlay.style.display = 'block';
            tryAgainPopup.style.display = 'block';

            // Atualizar o texto para chance extra

          }, 10000);
        } else {
          const animatedClass = 'wheel__spinner_animated';
          roleta2.classList.add(animatedClass);

          setTimeout(() => {
            roletaAudio.pause();
            
            // Carregar e tocar o som de vitória
            confettiAudio.load();
            confettiAudio.play().catch(err => {
              console.log('Erro ao tocar áudio:', err);
              // Tentar novamente após um pequeno delay
              setTimeout(() => confettiAudio.play().catch(() => {}), 100);
            });
            
            confetti({
              particleCount: 100,
              spread: 70,
              origin: { y: 0.6 }
            });

            const overlay = document.getElementById('overlay');
            const popup = document.getElementById('popup');
            overlay.style.display = 'block';
            popup.style.display = 'block';

            buttonCta.classList.add('hide-me');
          }, 10000);
        }
      }
    };

    const addSpinAnimation = (element) => {
      element.addEventListener('click', () => {
        animateSpin();
        attempt++;
      });
    };

    document.querySelectorAll('.runSpin').forEach(addSpinAnimation);

    document.getElementById('roleta3').addEventListener('click', () => {
      animateSpin();
      attempt++;
    });

    document.getElementById('try-again-button').addEventListener('click', () => {
      const overlay = document.getElementById('overlay');
      const tryAgainPopup = document.getElementById('popup-try-again');
      overlay.style.display = 'none';
      tryAgainPopup.style.display = 'none';
      const roleta2 = document.querySelector('#roleta2');
      roleta2.classList.remove('wheel__spinner_animated_retry_then_win');
      
      // Girar quando clicar no botão "Tentar Novamente"
      animateSpin();
      attempt++;
    });

    (() => {
      const descontos = [5, 25, 50, 75, 97];
      const frases = [
                    {
                        frase: `Pedro Oliveira acabou de ganhar <b>${descontos[Math.floor(Math.random() * descontos.length)]}% de desconto<span style="color: #ff2d55;">!</span></b>`,
                        imgSrc: 'https://i.postimg.cc/RhB8zCK5/24.jpg',
                    },
                    {
                        frase: `Ana Alves acabou de ganhar <b>${descontos[Math.floor(Math.random() * descontos.length)]}% de desconto<span style="color: #ff2d55;">!</span></b>`,
                        imgSrc: 'https://i.postimg.cc/prw31XTF/2.jpg',
                    },
                    {
                        frase: `Fernanda Santos acabou de ganhar <b>${descontos[Math.floor(Math.random() * descontos.length)]}% de desconto<span style="color: #ff2d55;">!</span></b>`,
                        imgSrc: 'https://i.postimg.cc/X7FvNr9t/3.jpg',
                    },
                    {
                        frase: `Bruno Souza acabou de ganhar <b>${descontos[Math.floor(Math.random() * descontos.length)]}% de desconto<span style="color: #ff2d55;">!</span></b>`,
                        imgSrc: 'https://i.postimg.cc/2ynfYBgw/5.jpg',
                    },
                    {
                        frase: `Fabrício Costa acabou de ganhar <b>${descontos[Math.floor(Math.random() * descontos.length)]}% de desconto<span style="color: #ff2d55;">!</span></b>`,
                        imgSrc: 'https://i.postimg.cc/kXrTRHtD/6.jpg',
                    },
                    {
                        frase: `Juliana Lima acabou de ganhar <b>${descontos[Math.floor(Math.random() * descontos.length)]}% de desconto<span style="color: #ff2d55;">!</span></b>`,
                        imgSrc: 'https://i.postimg.cc/0ynPrDjX/4.jpg',
                    },
                    {
                        frase: `Yasmin Araújo acabou de ganhar <b>${descontos[Math.floor(Math.random() * descontos.length)]}% de desconto<span style="color: #ff2d55;">!</span></b>`,
                        imgSrc: 'https://i.postimg.cc/9XNrx3BF/10.jpg',
                    },
                    {
                        frase: `Lucilene Silva acabou de ganhar <b>${descontos[Math.floor(Math.random() * descontos.length)]}% de desconto<span style="color: #ff2d55;">!</span></b>`,
                        imgSrc: 'https://i.postimg.cc/x8Wj92sv/11.jpg',
                    },
                    {
                        frase: `Everaldo Rocha acabou de ganhar <b>${descontos[Math.floor(Math.random() * descontos.length)]}% de desconto<span style="color: #ff2d55;">!</span></b>`,
                        imgSrc: 'https://i.postimg.cc/nhFYvfVV/7.jpg',
                    },
                    {
                        frase: `Oswaldo Carvalho acabou de ganhar <b>${descontos[Math.floor(Math.random() * descontos.length)]}% de desconto<span style="color: #ff2d55;">!</span></b>`,
                        imgSrc: 'https://i.postimg.cc/cHSQ4pzN/9.jpg',
                    },
                    {
                        frase: `João Pereira acabou de ganhar <b>${descontos[Math.floor(Math.random() * descontos.length)]}% de desconto<span style="color: #ff2d55;">!</span></b>`,
                        imgSrc: 'https://i.postimg.cc/W3wf26XX/14.jpg',
                    },
                    {
                        frase: `Ariadiny Gomes acabou de ganhar <b>${descontos[Math.floor(Math.random() * descontos.length)]}% de desconto<span style="color: #ff2d55;">!</span></b>`,
                        imgSrc: 'https://i.postimg.cc/xTMNqxKf/12.jpg',
                    },
                    {
                        frase: `Carla Ferreira acabou de ganhar <b>${descontos[Math.floor(Math.random() * descontos.length)]}% de desconto<span style="color: #ff2d55;">!</span></b>`,
                        imgSrc: 'https://i.postimg.cc/qq8BBFWW/13.jpg',
                    },
                    {
                        frase: `Gabriela Vieira acabou de ganhar <b>${descontos[Math.floor(Math.random() * descontos.length)]}% de desconto<span style="color: #ff2d55;">!</span></b>`,
                        imgSrc: 'https://i.postimg.cc/MT9bPss2/15.jpg',
                    },
                    {
                        frase: `Wellington Martins acabou de ganhar <b>${descontos[Math.floor(Math.random() * descontos.length)]}% de desconto<span style="color: #ff2d55;">!</span></b>`,
                        imgSrc: 'https://i.postimg.cc/vmBW17Y0/16.jpg',
                    },
                    {
                        frase: `Iago Barbosa acabou de ganhar <b>${descontos[Math.floor(Math.random() * descontos.length)]}% de desconto<span style="color: #ff2d55;">!</span></b>`,
                        imgSrc: 'https://i.postimg.cc/rwgHX9Zj/17.jpg',
                    },
                    {
                        frase: `Maicon Ramos acabou de ganhar <b>${descontos[Math.floor(Math.random() * descontos.length)]}% de desconto<span style="color: #ff2d55;">!</span></b>`,
                        imgSrc: 'https://i.postimg.cc/0NFcPXYY/18.jpg',
                    },
                    {
                        frase: `Vitória Castro acabou de ganhar <b>${descontos[Math.floor(Math.random() * descontos.length)]}% de desconto<span style="color: #ff2d55;">!</span></b>`,
                        imgSrc: 'https://i.postimg.cc/VkSKpcMf/19.jpg',
                    },
                    {
                        frase: `Matheus Santos acabou de ganhar <b>${descontos[Math.floor(Math.random() * descontos.length)]}% de desconto<span style="color: #ff2d55;">!</span></b>`,
                        imgSrc: 'https://i.postimg.cc/qvXNkN2j/20.jpg',
                    },
                    {
                        frase: `Marta Rocha acabou de ganhar <b>${descontos[Math.floor(Math.random() * descontos.length)]}% de desconto<span style="color: #ff2d55;">!</span></b>`,
                        imgSrc: 'https://i.postimg.cc/N0Fdh9nr/23.jpg',
                    },
                    {
                        frase: `Geraldo Nascimento acabou de ganhar <b>${descontos[Math.floor(Math.random() * descontos.length)]}% de desconto<span style="color: #ff2d55;">!</span></b>`,
                        imgSrc: 'https://i.postimg.cc/25gVzM07/21.jpg',
                    },
                    {
                        frase: `Daniel Ribeiro acabou de ganhar <b>${descontos[Math.floor(Math.random() * descontos.length)]}% de desconto<span style="color: #ff2d55;">!</span></b>`,
                        imgSrc: 'https://i.postimg.cc/ZK0tcnb0/22.jpg',
                    },
                ];


      window.addEventListener('DOMContentLoaded', () => {
        const contDiv = document.getElementById('people');
        const peopleFrase = document.getElementById('people-p');
        const peopleImg = document.querySelector('#people-img');
        setInterval(() => {
          const rand = Math.floor(Math.random() * frases.length);
          const { frase, imgSrc } = frases[rand];
          peopleFrase.innerHTML = frase;
          peopleImg.src = imgSrc;
          contDiv.classList.toggle('display-off');
          contDiv.classList.remove('slide-animation');
          setTimeout(() => {
            contDiv.classList.toggle('display-off');
            contDiv.classList.add('slide-animation');
          }, 20);
        }, 4000);
      });
    })();

    const getQueryParams = () => {
      const params = new URLSearchParams(window.location.search);
      return params.toString();
    };

    document.getElementById('resgatar-premio').addEventListener('click', () => {
      const queryParams = getQueryParams();
      const baseUrl = 'ps5.html';
      const redirectUrl = queryParams ? `${baseUrl}?${queryParams}` : baseUrl;
      window.location.href = redirectUrl;
    });

    window.addEventListener('load', function() {
      const loadingScreen = document.getElementById('loading-screen');
      loadingScreen.style.display = 'none';
      
      // Preparar áudios para mobile
      const confettiAudio = document.getElementById('confetti-audio');
      const roletaAudio = document.getElementById('roleta-audio');
      
      // Pré-carregar os áudios
      confettiAudio.load();
      roletaAudio.load();
      
      // Habilitar áudio no primeiro toque (importante para iOS) - SEM tocar o som de vitória
      document.addEventListener('touchstart', function enableAudio() {
        // Apenas preparar o áudio de confete sem tocar
        confettiAudio.volume = 0;
        confettiAudio.play().then(() => {
          confettiAudio.pause();
          confettiAudio.currentTime = 0;
          confettiAudio.volume = 1;
        }).catch(() => {});
        
        roletaAudio.play().then(() => {
          roletaAudio.pause();
          roletaAudio.currentTime = 0;
        }).catch(() => {});
        
        document.removeEventListener('touchstart', enableAudio);
      }, { once: true });
    });
  </script>

  <script src="js/jstools.js"></script>

</body>

</html>